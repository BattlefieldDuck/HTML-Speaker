var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.arrayFromIterator=function(a){for(var b,d=[];!(b=a.next()).done;)d.push(b.value);return d};
$jscomp.arrayFromIterable=function(a){return a instanceof Array?a:$jscomp.arrayFromIterator($jscomp.makeIterator(a))};var speakers=document.getElementsByTagName("html-speaker");if("undefined"===typeof speechSynthesis)throw[].concat($jscomp.arrayFromIterable(speakers)).forEach(function(a){a.style.display="none"}),"HTML-Speaker: speechSynthesis is not supported in the browser.";var synth=window.speechSynthesis;synth.cancel();window.onbeforeunload=function(){synth.cancel()};var activeSpeaker=null;
[].concat($jscomp.arrayFromIterable(speakers)).forEach(function(a){var b=a.hasAttribute("data-start")?a.getAttribute("data-start"):"\u25b6",d=a.hasAttribute("data-pause")?a.getAttribute("data-pause"):"\u25cf";a.textContent=b+a.textContent;a.addEventListener("click",function(){if(a!==activeSpeaker){a.textContent=a.textContent.replace(b,d);null!==activeSpeaker&&(activeSpeaker.textContent=activeSpeaker.textContent.replace(activeSpeaker.hasAttribute("data-pause")?activeSpeaker.getAttribute("data-pause"):
"\u25cf",activeSpeaker.hasAttribute("data-start")?activeSpeaker.getAttribute("data-start"):"\u25b6"));synth.cancel();var c=document.getElementById(a.getAttribute("for")).textContent.trim();c=new SpeechSynthesisUtterance(c);a.hasAttribute("data-pitch")&&(c.pitch=a.getAttribute("data-pitch"));a.hasAttribute("data-rate")&&(c.rate=a.getAttribute("data-rate"));a.hasAttribute("data-volume")&&(c.volume=a.getAttribute("data-volume"));a.hasAttribute("data-lang")&&(c.lang=a.getAttribute("data-lang"));if(a.hasAttribute("data-voice")){var f=
synth.getVoices(),g=a.getAttribute("data-voice");if(null!==f){f=$jscomp.makeIterator(f);for(var e=f.next();!e.done;e=f.next())if(e=e.value,e.name===g){c.voice=e;break}}null===c.voice&&console.warn("HTML-Speaker: voice("+g+") is not found in the browser. Default voice will be used.")}c.onend=function(){a.textContent=a.textContent.replace(a.hasAttribute("data-pause")?a.getAttribute("data-pause"):"\u25cf",a.hasAttribute("data-start")?a.getAttribute("data-start"):"\u25b6");a===activeSpeaker&&(activeSpeaker=
null)};synth.speak(c);activeSpeaker=a}else synth.paused?(a.textContent=a.textContent.replace(b,d),synth.resume()):synth.speaking&&(a.textContent=a.textContent.replace(d,b),synth.pause())})});